window._mfrAlpineRegistered=window._mfrAlpineRegistered||{},window._mfrAlpineRegistered.MFRImagePinchZoom||(document.addEventListener("alpine:init",()=>{Alpine.data("MFRImagePinchZoom",()=>({x:0,y:0,scale:1,lastX:0,lastY:0,lastScale:1,maxScale:4,img:null,mc:null,init(){this.img=this.$el.querySelector("img"),this.img&&this.initHammer()},initHammer(){const t=new Hammer.Pan({direction:Hammer.DIRECTION_ALL,pointers:2}),i=new Hammer.Pinch({enable:!0}),e=new Hammer.Tap({event:"doubletap",taps:2});this.mc=new Hammer.Manager(this.img),this.mc.add([t,i,e]),i.recognizeWith(t),e.recognizeWith([t,i]),this.mc.on("pinchstart panstart",()=>{this.lastScale=this.scale,this.lastX=this.x,this.lastY=this.y}),this.mc.on("pinchmove panmove",t=>{const i=this.lastScale*(t.scale||1);if(this.scale=Math.max(1,Math.min(i,this.maxScale)),this.scale>1){let i=this.lastX+(t.deltaX||0)/this.scale,e=this.lastY+(t.deltaY||0)/this.scale;const{overflowX:s,overflowY:a}=this.getBounds();this.x=this.clamp(i,-s,s),this.y=this.clamp(e,-a,a)}else this.x=0,this.y=0;this.apply()}),this.mc.on("doubletap",()=>this.reset()),this.$mainCarousel?.on("change",()=>this.reset())},getBounds(){const t=this.img.getBoundingClientRect(),i=this.$el.getBoundingClientRect();return{overflowX:Math.max(0,(t.width-i.width)/2),overflowY:Math.max(0,(t.height-i.height)/2)}},clamp:(t,i,e)=>Math.min(Math.max(t,i),e),apply(){if(this.img.style.transform=`translate(${this.x}px, ${this.y}px) scale(${this.scale})`,this.$mainCarousel){const t=this.scale>1;this.$mainCarousel.options.draggable=!t,this.$mainCarousel.updateDraggable()}},reset(){this.x=this.y=0,this.scale=1,this.apply()}}))}),window._mfrAlpineRegistered.MFRImagePinchZoom=!0);
//# sourceMappingURL=mfr-component__MFRImagePinchZoom.min.js.map

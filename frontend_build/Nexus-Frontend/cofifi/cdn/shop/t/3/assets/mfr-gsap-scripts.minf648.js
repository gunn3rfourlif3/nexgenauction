function initializeGSAPScripts(){gsap.registerPlugin(ScrollTrigger,SplitText,ScrollSmoother,Flip,ScrollToPlugin);const e={start:"top bottom",endTrigger:"html",end:"bottom top"};let t,r=[];function o(){gsap.utils.toArray("[data-image-parallax]").forEach(e=>{const t=e.querySelectorAll(":scope > img, :scope > picture, :scope > [data-image-parallax-element]");t&&t.forEach(t=>{const o=e.offsetHeight,a=t.offsetHeight,i=Math.abs(a-o),n="reverse"===e.getAttribute("data-image-parallax")?-1*i/2:0,l="reverse"===e.getAttribute("data-image-parallax")?0:-1*i/2,s=gsap.fromTo(t,{y:n},{scrollTrigger:{trigger:t,scrub:1,start:()=>"top bottom",end:()=>"bottom top",invalidateOnRefresh:!0},y:l,ease:"none"});r.push(s.scrollTrigger)})})}function a(){r.forEach(e=>{e.kill()}),r=[]}window.onWidthResize(()=>{clearTimeout(t),t=setTimeout(()=>{a(),o()},200)}),a(),o(),document.querySelectorAll("[data-inview],.data-inview").length&&ScrollTrigger.batch("[data-inview],.data-inview",{...e,onEnter:e=>{e.forEach(e=>{e.classList.add("is-inview")})},onLeaveBack:e=>{}}),window.initInview=(t,{noScrollTrigger:r=!1}=!1)=>{const o="string"==typeof t?document.querySelectorAll(normalizeScopedSelector(t)):t;r?t.classList.add("is-inview"):ScrollTrigger.batch(o,{...e,start:"top 90%",onEnter:e=>{e.forEach(e=>{e.classList.add("is-inview")})},onLeaveBack:e=>{}})},window.initStaggerInview=(t,{noScrollTrigger:r}=!1)=>{const o="string"==typeof t?document.querySelectorAll(normalizeScopedSelector(t)):t;o&&(r?[o].forEach(e=>{const t=e.dataset.staggerInview??"> *",r=e.querySelectorAll(normalizeScopedSelector(t));window.innerWidth;r.length&&gsap.to(r,{stagger:{each:.1,onComplete(){this.targets()[0].classList.add("is-inview")}},immediateRender:!0,overwrite:!0})}):ScrollTrigger.batch(o,{...e,onEnter:e=>{e.forEach(e=>{const t=e.dataset.staggerInview??"> *",r=e.querySelectorAll(normalizeScopedSelector(t));window.innerWidth;r.length&&gsap.to(r,{stagger:{each:.1,onComplete(){this.targets()[0].classList.add("is-inview")}},immediateRender:!0,overwrite:!0})})},onLeaveBack:e=>{}}))},window.initStaggerInview("[data-stagger-inview]"),window.initStaggerInview(document.querySelectorAll(".stagger-immediate-children")),window.onWidthResize(()=>{window.initStaggerInview("[data-stagger-inview]"),window.initStaggerInview(document.querySelectorAll(".stagger-immediate-children"))}),document.querySelectorAll("[data-split-text]").forEach((t,r)=>{t.classList.add("split-text--rendered");const o=new SplitText(t,{type:"words",wordsClass:"split-text"}),a=gsap.utils.toArray(o.words);a.forEach(e=>{const t=document.createElement("span");t.className="split-text__inner",t.innerHTML=e.innerHTML,e.innerHTML="",e.appendChild(t)});const i=t.getAttribute("data-split-text");"colorAnimation"===i?ScrollTrigger.batch(a,{start:"top 70%",end:"bottom 70%",onEnter:e=>{e.forEach(e=>e.classList.add("is-inview"))},onLeaveBack:e=>{e.forEach(e=>e.classList.remove("is-inview"))}}):"fadeUp"===i&&ScrollTrigger.create({trigger:t,...e,onEnter:()=>{gsap.to(a,{stagger:{delay:0,each:.05,onComplete(){this.targets()[0].classList.add("is-inview")}},immediateRender:!0})},onLeaveBack:()=>{a.forEach(e=>{e.classList.remove("is-inview","split-text--transition-ended")})}})}),document.querySelectorAll("[data-accent-graphic-parallax]").forEach((e,t)=>{const r=e.closest(".shopify-section"),o=document.querySelector("header.header");o&&o.offsetHeight;let a;ScrollTrigger.create({trigger:r,start:()=>"top 50%",end:()=>"bottom 25%",scrub:!0,onUpdate:t=>{a&&cancelAnimationFrame(a),a=requestAnimationFrame(()=>{const r=t.progress,o=e.getAttribute("data-accent-graphic-parallax")??-100;gsap.set(e,{yPercent:o*r})})}})});const i=document.querySelectorAll("[data-mfr-parallax]");i.length&&(gsap.utils.toArray(i).forEach(e=>{if(e.classList.contains("has-gsap-function"))return;const t=e.getAttribute("data-mfr-parallax"),r=""===t?50:parseFloat(t);gsap.to(e,{yPercent:-1*r,ease:"none",scrollTrigger:{trigger:e,start:()=>"top 75%",end:()=>"bottom top",scrub:.5}}),e.classList.add("has-gsap-function")}),ScrollTrigger.addEventListener("refreshInit",()=>{gsap.set("[data-mfr-parallax]",{yPercent:0})}));const n=document.querySelectorAll("[data-animated-number]");n.length>0&&(n.forEach(e=>{e.style.display="inline-block",e.style.width=e.offsetWidth+"px",e.dataset.target=e.textContent,e.textContent="0"}),ScrollTrigger.batch("[data-animated-number]",{...e,onEnter:e=>{e.forEach(e=>{gsap.to(e,{duration:1,innerHTML:e.dataset.target,roundProps:"innerHTML",ease:"power1.out",onUpdate:function(){e.textContent=parseInt(e.innerHTML)},onUpdateParams:["{self}"]})})},onLeaveBack:e=>{document.documentElement.classList.contains("is-scroll-locked")||e.forEach(e=>{e.style.display="inline-block",e.style.width=e.offsetWidth+"px",e.textContent="0"})}})),ScrollTrigger.refresh()}function stickyElementFunction(){window.innerWidth<=1023||document.querySelectorAll("[data-mfr-sticky-container]").forEach((e,t)=>{let r=e.querySelector("[data-mfr-sticky]");const o=e.getAttribute("data-mfr-sticky-container");let a;if(o&&""!==o.trim()&&(r=e.querySelector(o)),r){a=ScrollTrigger.create({trigger:r,start:()=>{const e=document.querySelector("header.header"),t=e?e.offsetHeight:0;return`top top+=${r.getAttribute("data-mfr-sticky")??t}px`},end:()=>`+=${e.offsetHeight-r.offsetHeight}px`,pin:!0,pinSpacing:!0});new ResizeObserver(()=>{a&&a.refresh()}).observe(e)}})}function autoPlayVideoFunction(){const e=document.querySelectorAll('video[data-autoplay="true"]');e.length&&ScrollTrigger.batch(e,{start:"top bottom",end:"bottom top",onEnter:e=>{e.forEach(e=>{e.paused&&e.play()})},onEnterBack:e=>{e.forEach(e=>{e.paused&&e.play()})},onLeave:e=>{e.forEach(e=>{e.paused||e.pause()})},onLeaveBack:e=>{e.forEach(e=>{e.paused||e.pause()})}})}function stickyMainOnFooterAppearance(){if(!gsap||!ScrollTrigger)return;let e;ScrollTrigger.create({trigger:"footer",start:"top bottom",end:"bottom top",onToggle:({isActive:t})=>{t?e=ScrollTrigger.create({trigger:"main",start:"bottom bottom",endTrigger:"footer",end:"bottom top",pin:!0,pinSpacing:!1}):e.kill({revert:!0,allowAnimation:!1})}})}function initRevealingSection(){document.querySelectorAll("[data-revealing-section]").forEach(e=>{const t=e.closest(".shopify-section");new ResizeObserver(()=>{t.style.height=`${Math.min(1.5*e.clientHeight,1800)}px`,gsap&&ScrollTrigger&&ScrollTrigger.refresh()}).observe(e),t.style.zIndex=0,ScrollTrigger.create({trigger:e.closest(".shopify-section"),enter:"top bottom",bottom:"bottom top",onToggle:t=>{e.classList.toggle("show",t.isActive)}})})}function shopifyEventsRefresh(){document.addEventListener("shopify:section:load",e=>{const t=e.detail.sectionId;console.log("Section loaded:",t),e.target.querySelector("[x-data]")&&Alpine.initTree(e.target),e.target.querySelectorAll("[data-inview]").length&&e.target.querySelectorAll("[data-inview]").forEach(e=>{window.initInview(e)}),e.target.querySelectorAll("[data-stagger-inview]").length&&e.target.querySelectorAll("[data-stagger-inview]").forEach(e=>{window.initStaggerInview(e)})})}onReady(initializeGSAPScripts),onReady(stickyElementFunction),onReady(autoPlayVideoFunction),onReady(initRevealingSection),onReady(shopifyEventsRefresh);
//# sourceMappingURL=mfr-gsap-scripts.min.js.map
